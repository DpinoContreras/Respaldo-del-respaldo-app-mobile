{"version":3,"sources":["../../src/pages/upload-files/upload-files.module.ts","../../src/pages/upload-files/upload-files.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UploadFilesPage } from './upload-files';\n\n@NgModule({\n  declarations: [\n    UploadFilesPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(UploadFilesPage),\n  ],\n})\nexport class UploadFilesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/upload-files/upload-files.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { IonicPage, NavController, ViewController, ToastController} from 'ionic-angular';\nimport { CourseService ,DocumentService } from '../../providers';\nimport { TypeService} from '../../providers';\n/**\n * Generated class for the UploadFilesPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-upload-files',\n  templateUrl: 'upload-files.html',\n})\nexport class UploadFilesPage {\n  @ViewChild('fileInput') fileInput;\n  isReadyToSave: boolean;\n  Items:any;\n  item: any;\n  courses:any;\n  tipos:any;\n  form: FormGroup;\n    constructor(public navCtrl: NavController, public viewCtrl: ViewController,\n       formBuilder: FormBuilder,\n       public toastCtrl: ToastController,\n       public types: TypeService,\n       public course: CourseService,\n       public doc: DocumentService) {\n      this.course.getCourse().subscribe((course:any) => {this.courses = course.data;});\n      this.types.get().subscribe((types:any) => {this.tipos = types;});\n    this.form = formBuilder.group({ \n      base64: [''],\n      nombre_archivo: ['',Validators.required],\n      ruta: ['',Validators.required],\n      owner_fk: ['', Validators.required],\n      type_fk: ['', Validators.required],\n      course_fk: ['', Validators.required]\n    });\n    // Watch the form for changes, and\n    this.form.valueChanges.subscribe((v) => {\n      this.isReadyToSave = this.form.valid;\n    });\n  }\n\n  getPicture() {\n      this.fileInput.nativeElement.click();\n  }\n\n  processWebImage(event) {\n    let reader = new FileReader();\n    reader.onload = (readerEvent) => {\n    let imageData = (readerEvent.target as any).result;\n    let base = imageData.split(\",\");      \n    this.form.patchValue({ base64: base[1] }); };\n    this.form.patchValue({ 'ruta': event.target.files[0].name });\n    this.form.patchValue({ 'owner_fk': parseInt(sessionStorage.getItem(\"pk\")) });\n    reader.readAsDataURL(event.target.files[0]);\n    console.log(event.target.files[0]);\n  }\n  done() {\n    if (!this.form.valid){ return 0; }\n    console.log(this.form.value);\n    \n    this.doc.addDocument(this.form.value).subscribe(\n      (res:any)=>{\n        let toast = this.toastCtrl.create({\n          message: 'Archivo subido con exito',\n          duration: 3000,\n          position: 'top'\n        });\n        toast.present();\n      }\n    );\n   // this.items.add(this.form.value);\n    this.navCtrl.setRoot('ContentPage');\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad UploadFilesPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/upload-files/upload-files.ts"],"sourceRoot":""}